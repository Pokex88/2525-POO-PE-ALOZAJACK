import tkinter as tk
from tkinter import messagebox

# Crear la ventana 
ventana = tk.Tk()
ventana.title("Lista de Tareas")
ventana.geometry("400x400")  # Tamaño de la ventana

# Función para añadir
def agregar_tarea(event=None):
    tarea = entrada_tarea.get()
    if tarea != "":
        lista_tareas.insert(tk.END, tarea)
        entrada_tarea.delete(0, tk.END)  # Limpiar la entrada
    else:
        messagebox.showwarning("Advertencia", "La tarea no puede estar vacía.")

# Función para marcar tarea 
def marcar_completada():
    try:
        seleccion = lista_tareas.curselection()  # Obtener índice de tarea seleccionada
        if seleccion:
            indice = seleccion[0]
            tarea = lista_tareas.get(indice)
            # Cambiar visualmente la tarea (agregar "[Completada]")
            if "[Completada]" not in tarea:
                lista_tareas.delete(indice)
                lista_tareas.insert(indice, f"{tarea} [Completada]")
        else:
            messagebox.showwarning("Advertencia", "Seleccione una tarea para marcar.")
    except:
        messagebox.showerror("Error", "Ocurrió un error al marcar la tarea.")

# Función para eliminar 
def eliminar_tarea():
    try:
        seleccion = lista_tareas.curselection()
        if seleccion:
            lista_tareas.delete(seleccion[0])
        else:
            messagebox.showwarning("Advertencia", "Seleccione una tarea para eliminar.")
    except:
        messagebox.showerror("Error", "Ocurrió un error al eliminar la tarea.")

# Campo de entrada de tareas
entrada_tarea = tk.Entry(ventana, width=40)
entrada_tarea.pack(pady=10)
entrada_tarea.bind("<Return>", agregar_tarea)  # Permite añadir con Enter

# Botones
boton_agregar = tk.Button(ventana, text="Añadir Tarea", command=agregar_tarea)
boton_agregar.pack(pady=5)

boton_completada = tk.Button(ventana, text="Marcar como Completada", command=marcar_completada)
boton_completada.pack(pady=5)

boton_eliminar = tk.Button(ventana, text="Eliminar Tarea", command=eliminar_tarea)
boton_eliminar.pack(pady=5)

# Lista de tareas
lista_tareas = tk.Listbox(ventana, width=50, height=15)
lista_tareas.pack(pady=10)

# Ejecutar la ventana
ventana.mainloop()
